

<!DOCTYPE html>
<html>

<head>

    <link rel="stylesheet" href="https://atlas.microsoft.com/sdk/javascript/mapcontrol/2/atlas.min.css" type="text/css">
    <script src="https://atlas.microsoft.com/sdk/javascript/mapcontrol/2/atlas.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <style>
        html,
        body {
            margin: 0;
        }

        #myMap {
            height: 100vh;
            width: 100vw;
        }

        #sidebar {
            position: absolute;
            height: 100vh;
            top: 0;
            left: -40vw;
            width:30vw;
            background-color: white;
            box-shadow: 0px 0px 10px 0px black;
            animation-duration: 1s;
        }
    </style>

</head>

<body>
    
    <div id="myMap"></div>
    <div id="sidebar"></div>
</body>

<script type="text/javascript">
    var map = new atlas.Map('myMap', {
        language: 'en-US',
        authOptions: {
            authType: 'subscriptionKey',
            subscriptionKey: 'c2X13dU6Bqf3LZM-hYKPubrU1wEWXH62Yrt634NXkWc'
        }
    });

    //Wait until the map resources are ready.
    map.events.add('ready', function () {

        data = []
        result = []

        $.ajax({
            url: "http://104.42.153.193:3000/load",
            type: "POST",
            data: data,
            contentType: 'application/json',
            success: function (result) {
                console.log(result);
            }
        });

        // console.log(result.loactions)

        //Create a HTML marker and add it to the map.
        var marker = new atlas.HtmlMarker({
            color: 'DodgerBlue',
            text: '10',
            position: [0, 0],

            //instead of popup we will have a page with all the necessary statistics
            popup: new atlas.Popup({
                content: '<div style="padding:10px">Hello World</div>',
                pixelOffset: [0, -30]
            })
        });

        map.markers.add(marker);

        //Add a click event to toggle the popup.
        map.events.add('click', marker, () => {
            marker.togglePopup();
        });
    });
</script>

</html>